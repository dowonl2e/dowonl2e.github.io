---
title: 2월을 정리하면서
# author: dowonl2e
date: 2024-03-03 12:30:00 +0800
categories: [Blogging]
tags: [회고록]
pin: true
img_path: "/posts/20240221"
---

2024년 2월에 제 첫 블로그를 작성해보면서 그 동안 알고 있던 내용 그리고 새롭게 공부한 내용을 정리해보았습니다.

회사 생활과 퇴사 후 공부했던 모든 내용을 정리한 것은 아니지만, 적용해보았던 것을 정리하면서 생각하고 느꼈던 것을 적어봅니다.

## **이전에는**

그 동안 회사에서 Mapper 방식으로만 개발을 해왔습니다. 그래서인지, 토이 프로젝트를 하거나 누군가의 요청으로 서비스를 만들때 빨리하고자 익숙한 것을 고집해왔던 것 같습니다. 

2022년 9월에 친한 지인의 요청으로 재고 관리 시스템을 만들었던 적이 있습니다. (무료로 만들어 주었습니다 ㅎ..)  이때도 새롭게 공부한 것들을 사용하기보다 또 익숙함을 선택했네요.

전 회사에서는 시스템 리팩토링을 꺼려한다는 느낌을 많이 받았습니다. 당연히 인력, 시간 등 현실적인 벽이 있어 그럴 수 밖에 없다고 생각합니다. 그래도, 언젠간하겠지 라는 생각으로 계속 공부해 왔습니다.

## **뭐든 해야할 때**

계속해서 공부는 하고 있었지만, 시원치 않은 느낌이 많이 들면서 뭐라도 해보자라는 생각으로 실천에 옮긴 것이 이전에 만든 재고관리 시스템 리팩토링입니다. 

![금은방 재고 관리 시스템 메인]({{site.url}}/assets/img/TwoMonthRange/1_Jewelry Manage System.png)

초기 버전은 JSP, Spring Boot, MyBatis를 이용한 Mapper 방식으로 개발했었습니다. 

> [https://github.com/dowonl2e/jewelry](https://github.com/dowonl2e/jewelry){:target="\_blank"}

리팩토링할 것을 정리하다보니 퇴근 후 그리고 주말에 시간을 내서 하기엔 시간이 너무 많이 소요되고 그 과정에서 오는 성취감도 줄어들 것 같아 두 번에 나누어 리팩토링을 했습니다.

### **1차 리팩토링**

- JSP에서 Thymeleaf로 화면구성
- 세션기반에서 JWT(Json Web Token)으로 인증방식 변경
- Redis를 이용한 토큰 관리

IDE도 IntelliJ 사용률이 높아서 변경했지만 IntelliJ Community 버전에서는 JSP가 지원되지 않더군요. 결국, 프론트도 다 바꿨네요. 1차 리팩토링은 JWT를 사용한다는 것 외에는 문법 변경이 많았던 것 같네요.

> [https://github.com/dowonl2e/jewelry-v2](https://github.com/dowonl2e/jewelry-v2){:target="\_blank"}

### **2차 리팩토링**

- JPA, Spring Data JPA, Querydsl 적용
- AWS + Nginx + Docker 환경에서 Github Actions CI/CD
- Elasticsearch를 이용한 검색기능 추가

2차 리팩토링부터 서버 프로그램을 위주로 리팩토링 했습니다. MyBatis에서 JPA, Spring Data JPA, Querydsl로 바꾸었고, 데이터가 많지 않았지만 언젠간 DB부하 문제가 있을 수 있겠다는 생각으로 ELK(Elasticsearch + Logstash + Kibana)도 사용해보았습니다. 그리고 컴파일 언어이다 보니 자연스럽게 무중단 배포도 해보았구요.

ELK는 서버에 메모리가 생각보다 많이 요구 되다보니 새롭게 서버를 추가해야했는데 비용적인 측면에서 실서버 배포는 못했네요.

> [https://github.com/dowonl2e/jewelry-v3](https://github.com/dowonl2e/jewelry-v3){:target="\_blank"}

## **리팩토링을 마치고**

2월에 작성한 개발에 대한 글은 재고관리 시스템 리팩토링 과정에서 공부하고 사용한 것을 정리했습니다. 추가적인 내용도 있으나 사용한 기술을 우선으로 정리해보았습니다.

리팩토링 과정에서 “와 이렇게도 사용할 수 있구나!”, “이렇게 사용하면 편하네” 라는 생각을 많이했던 것 같습니다. 그런데, 과정을 글로 써내려가면서 잊고 있었던 것 그리고 더 상세한 내용을 보다보니 “와… 내가 잘 못 사용하고 있는 부분이 많구나” 라는 생각이 들었습니다. 특히, 기술에 대한 이해가 부족하구나 라는 생각을 많이 하게되었습니다.

예로, JPA의 영속성 컨텍스트에 대한 이해, 추가적인 성능 향상을 위한 2차 캐시에 대한 고려 등 이러한 이점을 생각하지 않고 전부 Querydsl로 바꾸었다는 점…

내가 사용했던 기술과의 차이 그리고 어떻게 사용해야 성능 향상에 도움이 되는지 이런 부분을 고려하지 않았다는 점에서 다시 한 번 개발은 많은 생각과 노력이 필요하다는 생각을 갖게 되었습니다.